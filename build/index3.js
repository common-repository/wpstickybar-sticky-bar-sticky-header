import{r as m,m as re,c as P,j as a,ac as ne,ad as te,ae as F,af as ae,p as le,W as oe}from"./index.js";import{_ as G,i as $,j as ie,k as R,l as L,c as ce,b as S,m as ue,e as fe,f as he,h as de,F as O,a as M,I as me}from"./StatusIcon.js";import{B as pe}from"./Button.js";import{a as ve,_ as U,k as be,b as K,c as xe}from"./cloneDeep.js";import{u as Ce,A as ge,a as D}from"./useTimeOutMessage.js";import{P as ke}from"./PasswordInput.js";import"./isNil.js";import"./Views.js";import"./_getPrototype.js";const q=m.createContext({}),ye=q.Provider,j=m.forwardRef((e,s)=>{const{name:n,value:t,onChange:r,color:o}=m.useContext(q),{color:i,className:c,onChange:h,children:u,disabled:l,readOnly:f,name:v=n,defaultChecked:d,value:b,checked:C,labelRef:y,field:g,...I}=e,{themeColor:k,primaryColorLevel:w}=re(),B=m.useCallback(()=>typeof t<"u"&&typeof b<"u"?t.some(p=>p===b):C||d,[C,t,b,d]),[N,A]=m.useState(B()),J=(()=>{let p=N,x={checked:p},_={value:p};return typeof C<"u"&&(_.checked=C),g&&(p=typeof g.value=="boolean"?g.value:d,_={value:p,checked:p}),typeof t<"u"&&(x={checked:t.includes(b)}),d&&(_.defaultChecked=d),typeof t<"u"?x:_})(),X=m.useCallback(p=>{let x=!N;typeof t<"u"&&(x=!t.includes(b)),!(l||f)&&(A(x),h==null||h(x,p),r==null||r(b,x,p))},[N,l,f,A,h,b,r,t]),Y=`checkbox text-${i||o||`${k}-${w}`}`,Z=l&&"disabled",V="checkbox-label",z=l&&"disabled",ee=P(Y,Z),se=P(V,z,c);return a.jsxs("label",{ref:y,className:se,children:[a.jsx("input",{ref:s,className:ee,type:"checkbox",disabled:l,readOnly:f,name:v,onChange:X,...J,...g,...I}),u?a.jsx("span",{className:P("ltr:ml-2 rtl:mr-2",l?"opacity-50":""),children:u}):null]})});j.displayName="Checkbox";var _e=ve,Pe=U,$e=1,Ie=2;function we(e,s,n,t){var r=n.length,o=r,i=!t;if(e==null)return!o;for(e=Object(e);r--;){var c=n[r];if(i&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++r<o;){c=n[r];var h=c[0],u=e[h],l=c[1];if(i&&c[2]){if(u===void 0&&!(h in e))return!1}else{var f=new _e;if(t)var v=t(u,l,h,e,s,f);if(!(v===void 0?Pe(l,u,$e|Ie,t,f):v))return!1}}return!0}var Ne=we,Me=ne;function Ae(e){return e===e&&!Me(e)}var H=Ae,Se=H,Oe=be;function De(e){for(var s=Oe(e),n=s.length;n--;){var t=s[n],r=e[t];s[n]=[t,r,Se(r)]}return s}var Ee=De;function Fe(e,s){return function(n){return n==null?!1:n[e]===s&&(s!==void 0||e in Object(n))}}var T=Fe,Ge=Ne,Re=Ee,Le=T;function Ue(e){var s=Re(e);return s.length==1&&s[0][2]?Le(s[0][0],s[0][1]):function(n){return n===e||Ge(n,e,s)}}var Ke=Ue;function qe(e,s){return e!=null&&s in Object(e)}var je=qe,He=G,Te=te,We=F,Qe=K,Be=ae,Je=$;function Xe(e,s,n){s=He(s,e);for(var t=-1,r=s.length,o=!1;++t<r;){var i=Je(s[t]);if(!(o=e!=null&&n(e,i)))break;e=e[i]}return o||++t!=r?o:(r=e==null?0:e.length,!!r&&Be(r)&&Qe(i,r)&&(We(e)||Te(e)))}var Ye=Xe,Ze=je,Ve=Ye;function ze(e,s){return e!=null&&Ve(e,s,Ze)}var es=ze,ss=U,rs=ie,ns=es,ts=R,as=H,ls=T,os=$,is=1,cs=2;function us(e,s){return ts(e)&&as(s)?ls(os(e),s):function(n){var t=rs(n,e);return t===void 0&&t===s?ns(n,e):ss(s,t,is|cs)}}var fs=us;function hs(e){return e}var ds=hs;function ms(e){return function(s){return s==null?void 0:s[e]}}var ps=ms,vs=L;function bs(e){return function(s){return vs(s,e)}}var xs=bs,Cs=ps,gs=xs,ks=R,ys=$;function _s(e){return ks(e)?Cs(ys(e)):gs(e)}var Ps=_s,$s=Ke,Is=fs,ws=ds,Ns=F,Ms=Ps;function As(e){return typeof e=="function"?e:e==null?ws:typeof e=="object"?Ns(e)?Is(e[0],e[1]):$s(e):Ms(e)}var Ss=As;function Os(e){var s=e==null?0:e.length;return s?e[s-1]:void 0}var Ds=Os;function Es(e,s,n){var t=-1,r=e.length;s<0&&(s=-s>r?0:r+s),n=n>r?r:n,n<0&&(n+=r),r=s>n?0:n-s>>>0,s>>>=0;for(var o=Array(r);++t<r;)o[t]=e[t+s];return o}var Fs=Es,Gs=L,Rs=Fs;function Ls(e,s){return s.length<2?e:Gs(e,Rs(s,0,-1))}var Us=Ls,Ks=G,qs=Ds,js=Us,Hs=$;function Ts(e,s){return s=Ks(s,e),e=js(e,s),e==null||delete e[Hs(qs(s))]}var Ws=Ts,Qs=Ws,Bs=K,Js=Array.prototype,Xs=Js.splice;function Ys(e,s){for(var n=e?s.length:0,t=n-1;n--;){var r=s[n];if(n==t||r!==o){var o=r;Bs(r)?Xs.call(e,r,1):Qs(e,r)}}return e}var Zs=Ys,Vs=Ss,zs=Zs;function er(e,s){var n=[];if(!(e&&e.length))return n;var t=-1,r=[],o=e.length;for(s=Vs(s);++t<o;){var i=e[t];s(i,t,e)&&(n.push(i),r.push(t))}return zs(e,r),n}var sr=er;const rr=le(sr),nr=Object.prototype.hasOwnProperty;function E(e,s){return e===s?e!==0||s!==0||1/e===1/s:e!==e&&s!==s}function tr(e,s){if(E(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;const n=Object.keys(e),t=Object.keys(s);if(n.length!==t.length)return!1;for(let r=0;r<n.length;r+=1)if(!nr.call(s,n[r])||!E(e[n[r]],s[n[r]]))return!1;return!0}const W=m.forwardRef((e,s)=>{const{children:n,className:t,color:r,name:o,onChange:i,value:c,vertical:h,...u}=e,[l,f]=m.useState(c),v=m.useCallback((y,g,I)=>{const k=xe(l)||[];g?k.push(y):rr(k,w=>tr(w,y)),f(k),i==null||i(k,I)},[i,f,l]);m.useEffect(()=>{f(c)},[c]);const b=P(`inline-flex ${h?"flex-col gap-y-2":""}`,t),C=m.useMemo(()=>({vertical:h,name:o,value:l,color:r,onChange:v}),[h,v,o,r,l]);return a.jsx(ye,{value:C,children:a.jsx("div",{ref:s,className:b,...u,children:n})})});W.displayName="CheckboxGroup";const Q=j;Q.Group=W;const ar=ce().shape({userName:S().required("Please enter your user name"),password:S().required("Please enter your password"),rememberMe:ue()}),lr=e=>{const{disableSubmit:s=!1,className:n,forgotPasswordUrl:t="/forgot-password",signUpUrl:r="/sign-up"}=e,[o,i]=Ce(),{signIn:c}=oe(),h=async(u,l)=>{const{userName:f,password:v}=u;l(!0);const d=await c({userName:f,password:v});(d==null?void 0:d.status)==="failed"&&i(d.message),l(!1)};return a.jsxs("div",{className:n,children:[o&&a.jsx(ge,{showIcon:!0,className:"mb-4",type:"danger",children:a.jsx(a.Fragment,{children:o})}),a.jsx(fe,{initialValues:{userName:"admin",password:"123Qwe",rememberMe:!0},validationSchema:ar,onSubmit:(u,{setSubmitting:l})=>{s?l(!1):h(u,l)},children:({touched:u,errors:l,isSubmitting:f})=>a.jsx(he,{children:a.jsxs(de,{children:[a.jsx(O,{label:"User Name",invalid:l.userName&&u.userName,errorMessage:l.userName,children:a.jsx(M,{type:"text",autoComplete:"off",name:"userName",placeholder:"User Name",component:me})}),a.jsx(O,{label:"Password",invalid:l.password&&u.password,errorMessage:l.password,children:a.jsx(M,{autoComplete:"off",name:"password",placeholder:"Password",component:ke})}),a.jsxs("div",{className:"flex justify-between mb-6",children:[a.jsx(M,{className:"mb-0",name:"rememberMe",component:Q,children:"Remember Me"}),a.jsx(D,{to:t,children:"Forgot Password?"})]}),a.jsx(pe,{block:!0,loading:f,variant:"solid",type:"submit",children:f?"Signing in...":"Sign In"}),a.jsxs("div",{className:"mt-4 text-center",children:[a.jsxs("span",{children:["Don't have an account yet?"," "]}),a.jsx(D,{to:r,children:"Sign up"})]})]})})})]})},or=()=>a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"mb-1",children:"Welcome back!"}),a.jsx("p",{children:"Please enter your credentials to sign in!"})]}),a.jsx(lr,{disableSubmit:!1})]}),Cr=or;export{Cr as default};
