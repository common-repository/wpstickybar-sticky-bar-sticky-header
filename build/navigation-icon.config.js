import{_ as R}from"./UserDropdown.js";import{r as c,F as U,E as B,a7 as D,B as J,a8 as _,A as G,j as p}from"./index.js";import{i as k}from"./isNil.js";import{x as K,y as W,z as Y,A as q,B as Q}from"./Views.js";function X(){if(console&&console.warn){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];typeof n[0]=="string"&&(n[0]="react-i18next:: ".concat(n[0])),(t=console).warn.apply(t,n)}}var T={};function j(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&T[e[0]]||(typeof e[0]=="string"&&(T[e[0]]=new Date),X.apply(void 0,e))}var H=function(e,n){return function(){if(e.isInitialized)n();else{var r=function s(){setTimeout(function(){e.off("initialized",s)},0),n()};e.on("initialized",r)}}};function A(t,e,n){t.loadNamespaces(e,H(t,n))}function M(t,e,n,r){typeof n=="string"&&(n=[n]),n.forEach(function(s){t.options.ns.indexOf(s)<0&&t.options.ns.push(s)}),t.loadLanguages(e,H(t,r))}function Z(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=e.languages[0],s=e.options?e.options.fallbackLng:!1,d=e.languages[e.languages.length-1];if(r.toLowerCase()==="cimode")return!0;var a=function(m,l){var b=e.services.backendConnector.state["".concat(m,"|").concat(l)];return b===-1||b===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!a(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(r,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||a(r,t)&&(!s||a(d,t)))}function $(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e.languages||!e.languages.length)return j("i18n.languages were undefined or empty",e.languages),!0;var r=e.options.ignoreJSONStructure!==void 0;return r?e.hasLoadedNamespace(t,{lng:n.lng,precheck:function(d,a){if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&d.services.backendConnector.backend&&d.isLanguageChangingTo&&!a(d.isLanguageChangingTo,t))return!1}}):Z(t,e,n)}var V=c.createContext(),ee=function(){function t(){B(this,t),this.usedNamespaces={}}return U(t,[{key:"addUsedNamespaces",value:function(n){var r=this;n.forEach(function(s){r.usedNamespaces[s]||(r.usedNamespaces[s]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),t}();function z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z(Object(n),!0).forEach(function(r){J(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var ne=function(e,n){var r=c.useRef();return c.useEffect(function(){r.current=n?r.current:e},[e,n]),r.current};function oe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.i18n,r=c.useContext(V)||{},s=r.i18n,d=r.defaultNS,a=n||s||_();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new ee),!a){j("You will need to pass in an i18next instance by using initReactI18next");var N=function(f,o){return typeof o=="string"?o:o&&G(o)==="object"&&typeof o.defaultValue=="string"?o.defaultValue:Array.isArray(f)?f[f.length-1]:f},m=[N,{},!1];return m.t=N,m.i18n={},m.ready=!1,m}a.options.react&&a.options.react.wait!==void 0&&j("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var l=O(O(O({},D()),a.options.react),e),b=l.useSuspense,S=l.keyPrefix,i=t||d||a.options&&a.options.defaultNS;i=typeof i=="string"?[i]:i||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(i);var v=(a.isInitialized||a.initializedStoreOnce)&&i.every(function(u){return $(u,a,l)});function h(){return a.getFixedT(e.lng||null,l.nsMode==="fallback"?i:i[0],S)}var F=c.useState(h),I=R(F,2),P=I[0],y=I[1],w=i.join();e.lng&&(w="".concat(e.lng).concat(w));var L=ne(w),g=c.useRef(!0);c.useEffect(function(){var u=l.bindI18n,f=l.bindI18nStore;g.current=!0,!v&&!b&&(e.lng?M(a,e.lng,i,function(){g.current&&y(h)}):A(a,i,function(){g.current&&y(h)})),v&&L&&L!==w&&g.current&&y(h);function o(){g.current&&y(h)}return u&&a&&a.on(u,o),f&&a&&a.store.on(f,o),function(){g.current=!1,u&&a&&u.split(" ").forEach(function(C){return a.off(C,o)}),f&&a&&f.split(" ").forEach(function(C){return a.store.off(C,o)})}},[a,w]);var E=c.useRef(!0);c.useEffect(function(){g.current&&!E.current&&y(h),E.current=!1},[a,S]);var x=[P,a,v];if(x.t=P,x.i18n=a,x.ready=v,v||!v&&!b)return x;throw new Promise(function(u){e.lng?M(a,e.lng,i,function(){return u()}):A(a,i,function(){return u()})})}function te(t=[],e=[],n=!1){const r=c.useMemo(()=>e.some(s=>t.includes(s)),[e,t]);return k(e)||k(t)||typeof e>"u"?!n:r}const ue=t=>{const{userAuthority:e=[],authority:n=[],children:r}=t,s=te(e,n);return p.jsx(p.Fragment,{children:s?r:null})},ce={home:p.jsx(K,{}),singleMenu:p.jsx(W,{}),collapseMenu:p.jsx(Y,{}),groupSingleMenu:p.jsx(q,{}),groupCollapseMenu:p.jsx(Q,{})};export{ue as A,V as I,X as a,ce as n,oe as u,j as w};
