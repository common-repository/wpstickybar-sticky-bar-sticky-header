import{p as se,a7 as Ie,r as h,B as ae,A as D,a8 as oe,m as ie,c as V,j as a,g as W,a9 as we,aa as Ae,ab as J}from"./index.js";import{g as $e,e as Se,T as De,D as X,a as Te,i as Ve,h as Ne}from"./UserDropdown.js";import{m as Z,i as Fe}from"./Views.js";import{w as He,a as G,I as Ge,n as Ue,A as I,u as le}from"./navigation-icon.config.js";import{_ as Y}from"./objectWithoutProperties.js";import{_ as Be}from"./_getPrototype.js";var We={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const Ye=se(We);var Le=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function Q(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=e.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(t.name=n[1],(Ye[n[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var r=e.indexOf("-->");return{type:"comment",comment:r!==-1?e.slice(4,r):""}}for(var o=new RegExp(Le),s=null;(s=o.exec(e))!==null;)if(s[0].trim())if(s[1]){var i=s[1].trim(),l=[i,""];i.indexOf("=")>-1&&(l=i.split("=")),t.attrs[l[0]]=l[1],o.lastIndex--}else s[2]&&(t.attrs[s[2]]=s[3].trim().substring(1,s[3].length-1));return t}var qe=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,ze=/^\s*$/,Je=Object.create(null);function ce(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(n){var r=[];for(var o in n)r.push(o+'="'+n[o]+'"');return r.length?" "+r.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(ce,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var Xe={parse:function(e,t){t||(t={}),t.components||(t.components=Je);var n,r=[],o=[],s=-1,i=!1;if(e.indexOf("<")!==0){var l=e.indexOf("<");r.push({type:"text",content:l===-1?e:e.substring(0,l)})}return e.replace(qe,function(f,y){if(i){if(f!=="</"+n.name+">")return;i=!1}var v,p=f.charAt(1)!=="/",E=f.startsWith("<!--"),g=y+f.length,u=e.charAt(g);if(E){var C=Q(f);return s<0?(r.push(C),r):((v=o[s]).children.push(C),r)}if(p&&(s++,(n=Q(f)).type==="tag"&&t.components[n.name]&&(n.type="component",i=!0),n.voidElement||i||!u||u==="<"||n.children.push({type:"text",content:e.slice(g,e.indexOf("<",g))}),s===0&&r.push(n),(v=o[s-1])&&v.children.push(n),o[s]=n),(!p||n.voidElement)&&(s>-1&&(n.voidElement||n.name===f.slice(2,-1))&&(s--,n=s===-1?r:o[s]),!i&&u!=="<"&&u)){v=s===-1?r:o[s].children;var m=e.indexOf("<",g),x=e.slice(g,m===-1?void 0:m);ze.test(x)&&(x=" "),(m>-1&&s+v.length>=0||x!==" ")&&v.push({type:"text",content:x})}}),r},stringify:function(e){return e.reduce(function(t,n){return t+ce("",n)},"")}},Ze=["format"],Qe=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R(Object(n),!0).forEach(function(r){ae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function U(e,t){if(!e)return!1;var n=e.props?e.props.children:e.children;return t?n.length>0:!!n}function B(e){return e?e.props?e.props.children:e.children:[]}function Re(e){return Object.prototype.toString.call(e)!=="[object Array]"?!1:e.every(function(t){return h.isValidElement(t)})}function T(e){return Array.isArray(e)?e:[e]}function _e(e,t){var n=b({},t);return n.props=Object.assign(e.props,t.props),n}function ue(e,t){if(!e)return"";var n="",r=T(e),o=t.transSupportBasicHtmlNodes&&t.transKeepBasicHtmlNodesFor?t.transKeepBasicHtmlNodesFor:[];return r.forEach(function(s,i){if(typeof s=="string")n+="".concat(s);else if(h.isValidElement(s)){var l=Object.keys(s.props).length,f=o.indexOf(s.type)>-1,y=s.props.children;if(!y&&f&&l===0)n+="<".concat(s.type,"/>");else if(!y&&(!f||l!==0))n+="<".concat(i,"></").concat(i,">");else if(s.props.i18nIsDynamicList)n+="<".concat(i,"></").concat(i,">");else if(f&&l===1&&typeof y=="string")n+="<".concat(s.type,">").concat(y,"</").concat(s.type,">");else{var v=ue(y,t);n+="<".concat(i,">").concat(v,"</").concat(i,">")}}else if(s===null)G("Trans: the passed in value is invalid - seems you passed in a null child.");else if(D(s)==="object"){var p=s.format,E=Y(s,Ze),g=Object.keys(E);if(g.length===1){var u=p?"".concat(g[0],", ").concat(p):g[0];n+="{{".concat(u,"}}")}else G("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",s)}else G("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",s)}),n}function et(e,t,n,r,o,s){if(t==="")return[];var i=r.transKeepBasicHtmlNodesFor||[],l=t&&new RegExp(i.join("|")).test(t);if(!e&&!l)return[t];var f={};function y(m){var x=T(m);x.forEach(function(d){typeof d!="string"&&(U(d)?y(B(d)):D(d)==="object"&&!h.isValidElement(d)&&Object.assign(f,d))})}y(e);var v=Xe.parse("<0>".concat(t,"</0>")),p=b(b({},f),o);function E(m,x,d){var j=B(m),P=u(j,x.children,d);return Re(j)&&P.length===0?j:P}function g(m,x,d,j,P){m.dummy&&(m.children=x),d.push(h.cloneElement(m,b(b({},m.props),{},{key:j}),P?void 0:x))}function u(m,x,d){var j=T(m),P=T(x);return P.reduce(function(K,c,M){var A=c.children&&c.children[0]&&c.children[0].content&&n.services.interpolator.interpolate(c.children[0].content,p,n.language);if(c.type==="tag"){var k=j[parseInt(c.name,10)];!k&&d.length===1&&d[0][c.name]&&(k=d[0][c.name]),k||(k={});var O=Object.keys(c.attrs).length!==0?_e({props:c.attrs},k):k,$=h.isValidElement(O),H=$&&U(c,!0)&&!c.voidElement,Oe=l&&D(O)==="object"&&O.dummy&&!$,be=D(e)==="object"&&e!==null&&Object.hasOwnProperty.call(e,c.name);if(typeof O=="string"){var Ce=n.services.interpolator.interpolate(O,p,n.language);K.push(Ce)}else if(U(O)||H){var Ee=E(O,c,d);g(O,Ee,K,M)}else if(Oe){var Ke=u(j,c.children,d);K.push(h.cloneElement(O,b(b({},O.props),{},{key:M}),Ke))}else if(Number.isNaN(parseFloat(c.name)))if(be){var Pe=E(O,c,d);g(O,Pe,K,M,c.voidElement)}else if(r.transSupportBasicHtmlNodes&&i.indexOf(c.name)>-1)if(c.voidElement)K.push(h.createElement(c.name,{key:"".concat(c.name,"-").concat(M)}));else{var Me=u(j,c.children,d);K.push(h.createElement(c.name,{key:"".concat(c.name,"-").concat(M)},Me))}else if(c.voidElement)K.push("<".concat(c.name," />"));else{var ke=u(j,c.children,d);K.push("<".concat(c.name,">").concat(ke,"</").concat(c.name,">"))}else if(D(O)==="object"&&!$){var L=c.children[0]?A:null;L&&K.push(L)}else c.children.length===1&&A?K.push(h.cloneElement(O,b(b({},O.props),{},{key:M}),A)):K.push(h.cloneElement(O,b(b({},O.props),{},{key:M})))}else if(c.type==="text"){var q=r.transWrapTextNodes,z=s?r.unescape(n.services.interpolator.interpolate(c.content,p,n.language)):n.services.interpolator.interpolate(c.content,p,n.language);q?K.push(h.createElement(q,{key:"".concat(c.name,"-").concat(M)},z)):K.push(z)}return K},[])}var C=u([{dummy:!0,children:e||[]}],v,T(e||[]));return B(C[0])}function tt(e){var t=e.children,n=e.count,r=e.parent,o=e.i18nKey,s=e.context,i=e.tOptions,l=i===void 0?{}:i,f=e.values,y=e.defaults,v=e.components,p=e.ns,E=e.i18n,g=e.t,u=e.shouldUnescape,C=Y(e,Qe),m=E||oe();if(!m)return He("You will need to pass in an i18next instance by using i18nextReactModule"),t;var x=g||m.t.bind(m)||function(H){return H};s&&(l.context=s);var d=b(b({},Ie()),m.options&&m.options.react),j=p||x.ns||m.options&&m.options.defaultNS;j=typeof j=="string"?[j]:j||["translation"];var P=y||ue(t,d)||d.transEmptyNodeValue||o,K=d.hashTransKey,c=o||(K?K(P):P),M=f?l.interpolation:{interpolation:b(b({},l.interpolation),{},{prefix:"#$?",suffix:"?$#"})},A=b(b(b(b({},l),{},{count:n},f),M),{},{defaultValue:P,ns:j}),k=c?x(c,A):P,O=et(v||t,k,m,d,A,u),$=r!==void 0?r:d.defaultTransParent;return $?h.createElement($,C,O):O}var nt=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(r){ae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function S(e){var t=e.children,n=e.count,r=e.parent,o=e.i18nKey,s=e.context,i=e.tOptions,l=i===void 0?{}:i,f=e.values,y=e.defaults,v=e.components,p=e.ns,E=e.i18n,g=e.t,u=e.shouldUnescape,C=Y(e,nt),m=h.useContext(Ge)||{},x=m.i18n,d=m.defaultNS,j=E||x||oe(),P=g||j&&j.t.bind(j);return tt(rt({children:t,count:n,parent:r,i18nKey:o,context:s,tOptions:l,values:f,defaults:y,components:v,ns:p||P&&P.ns||d||j&&j.options&&j.options.defaultNS,i18n:j,t:g,shouldUnescape:u},C))}const N=h.createContext({}),st=N.Provider,at=N.Consumer,pe=h.forwardRef((e,t)=>{const{children:n,className:r,defaultActiveKeys:o=[],defaultExpandedKeys:s=[],menuItemHeight:i=40,onSelect:l,sideCollapsed:f=!1,variant:y="light",...v}=e,p="menu",{themeColor:E,primaryColorLevel:g}=ie(),C=V(p,(()=>y==="themed"?`bg-${E}-${g} ${p}-${y}`:`${p}-${y}`)(),r);return a.jsx("nav",{ref:t,className:C,...v,children:a.jsx(st,{value:{onSelect:l,menuItemHeight:i,variant:y,sideCollapsed:f,defaultExpandedKeys:s,defaultActiveKeys:o},children:n})})});pe.displayName="Menu";const fe=h.createContext(null),ot=fe.Provider,it=fe.Consumer,me=h.createContext(!1),lt=me.Provider,ct=me.Consumer,de=e=>{const{eventKey:t,...n}=e;return a.jsx(at,{children:r=>a.jsx(it,{children:()=>a.jsx(ct,{children:()=>a.jsx($e,{menuItemHeight:r.menuItemHeight,variant:r.variant,isActive:r.defaultActiveKeys.includes(t),eventKey:t,onSelect:r.onSelect,...n})})})})};de.displayName="MenuItem";const ye=e=>{const{children:t,className:n,eventKey:r,expanded:o=!1,label:s=null,onToggle:i}=e,[l,f]=h.useState(o),{menuItemHeight:y,variant:v,sideCollapsed:p,defaultExpandedKeys:E}=h.useContext(N),{direction:g}=ie();h.useEffect(()=>{E.includes(r)&&f(!0),o!==l&&f(!0)},[o,i,r,E]);const u=x=>{typeof i=="function"&&i(!l,x),f(!l)},C=()=>{let x=0;return l&&t&&t.length&&(x=t.length*(y||0)),l&&t&&!t.length&&(x=y||0),x},m=V("menu-collapse-item",`menu-collapse-item-${v}`,n);return a.jsxs("div",{className:"menu-collapse",children:[a.jsxs("div",{className:m,role:"presentation",onClick:u,children:[a.jsx("span",{className:"flex items-center",children:s}),a.jsx(Z.span,{className:"text-lg mt-1",initial:{transform:"rotate(0deg)"},animate:{transform:l?"rotate(-180deg)":"rotate(0deg)"},transition:{duration:.15},children:p?null:a.jsx(Fe,{})})]}),a.jsx(lt,{value:l,children:a.jsx(Z.ul,{className:g==="rtl"?"mr-5":"ml-5",initial:{opacity:0,height:0,overflow:"hidden"},animate:{opacity:l?1:0,height:l?C():0},transition:{duration:.15},children:t})})]})};ye.displayName="MenuCollapse";const he=e=>{const{label:t,children:n,className:r}=e,{variant:o,sideCollapsed:s}=h.useContext(N),l=V("menu-group",r),f=Se("entity-header-");return a.jsxs("div",{className:l,children:[t&&!s&&a.jsx("div",{className:V("menu-title",`menu-title-${o}`),id:f,children:t}),a.jsx(ot,{value:null,children:a.jsx("ul",{children:n})})]})};he.displayName="MenuGroup";const w=pe;w.MenuItem=de;w.MenuCollapse=ye;w.MenuGroup=he;const F=({icon:e,gutter:t})=>typeof e!="string"&&!e?a.jsx(a.Fragment,{}):a.jsx("span",{className:`text-2xl ${t?"ltr:mr-2 rtl:ml-2":""}`,children:Ue[e]});F.defaultProps={gutter:!0};const{MenuItem:ut}=w,pt=({title:e,translateKey:t,children:n,direction:r})=>{const{t:o}=le();return a.jsx(De,{title:o(t)||e,placement:r==="rtl"?"left":"right",children:n})},ee=e=>{const{nav:t,onLinkClick:n,sideCollapsed:r,userAuthority:o}=e;return a.jsx(I,{userAuthority:o,authority:t.authority,children:a.jsx(ut,{eventKey:t.key,className:"mb-2",children:a.jsxs(W,{to:t.path,className:"flex items-center h-full w-full",onClick:()=>n==null?void 0:n({key:t.key,title:t.title,path:t.path}),children:[a.jsx(F,{icon:t.icon}),!r&&a.jsx("span",{children:a.jsx(S,{i18nKey:t.translateKey,defaults:t.title})})]})},t.key)})},te=({nav:e,onLinkClick:t,sideCollapsed:n,userAuthority:r,direction:o})=>a.jsx(I,{userAuthority:r,authority:e.authority,children:n?a.jsx(pt,{title:e.title,translateKey:e.translateKey,direction:o,children:a.jsx(ee,{nav:e,sideCollapsed:n,userAuthority:r,onLinkClick:t})}):a.jsx(ee,{nav:e,sideCollapsed:n,userAuthority:r,onLinkClick:t})}),{MenuItem:xe,MenuCollapse:ft}=w,mt=({nav:e,onLinkClick:t,userAuthority:n})=>a.jsx(I,{userAuthority:n,authority:e.authority,children:a.jsx(ft,{label:a.jsxs(a.Fragment,{children:[a.jsx(F,{icon:e.icon}),a.jsx("span",{children:a.jsx(S,{i18nKey:e.translateKey,defaults:e.title})})]}),eventKey:e.key,expanded:!1,className:"mb-2",children:e.subMenu.map(r=>a.jsx(I,{userAuthority:n,authority:r.authority,children:a.jsx(xe,{eventKey:r.key,children:r.path?a.jsx(W,{className:"h-full w-full flex items-center",to:r.path,onClick:()=>t==null?void 0:t({key:r.key,title:r.title,path:r.path}),children:a.jsx("span",{children:a.jsx(S,{i18nKey:r.translateKey,defaults:r.title})})}):a.jsx("span",{children:a.jsx(S,{i18nKey:r.translateKey,defaults:r.title})})})},r.key))},e.key)}),dt=({nav:e,onLinkClick:t,userAuthority:n,direction:r})=>{const o=a.jsx(xe,{eventKey:e.key,className:"mb-2",children:a.jsx(F,{icon:e.icon})},e.key);return a.jsx(I,{userAuthority:n,authority:e.authority,children:a.jsx(X,{trigger:"hover",renderTitle:o,placement:r==="rtl"?"middle-end-top":"middle-start-top",children:e.subMenu.map(s=>a.jsx(I,{userAuthority:n,authority:s.authority,children:a.jsx(X.Item,{eventKey:s.key,children:s.path?a.jsx(W,{className:"h-full w-full flex items-center",to:s.path,onClick:()=>t==null?void 0:t({key:s.key,title:s.title,path:s.path}),children:a.jsx("span",{children:a.jsx(S,{i18nKey:s.translateKey,defaults:s.title})})}):a.jsx("span",{children:a.jsx(S,{i18nKey:s.translateKey,defaults:s.title})})})},s.key))})})},ne=({sideCollapsed:e,...t})=>e?a.jsx(dt,{...t}):a.jsx(mt,{...t});var yt=we,ht=Be,xt=Ae,jt="[object Object]",gt=Function.prototype,vt=Object.prototype,je=gt.toString,Ot=vt.hasOwnProperty,bt=je.call(Object);function Ct(e){if(!xt(e)||yt(e)!=jt)return!1;var t=ht(e);if(t===null)return!0;var n=Ot.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&je.call(n)==bt}var Et=Ct;const Kt=se(Et),ge=(e,t)=>{if(!Array.isArray(e)&&e.key===t)return e;let n,r=!1;for(const o in e)if(o!=="icon"&&e.hasOwnProperty(o)&&typeof e[o]=="object"&&(Kt(e[o])&&e[o].subMenu.length>0&&e[o].subMenu.some(s=>s.key===t)&&(r=!0),n=ge(e[o],t),n))return r&&(n.parentKey=e[o].key),n;return n},ve=(e,t)=>e.find(r=>r.key===t)?!0:e.some(r=>ve(r.subMenu,t)),Pt=(e,t)=>{let n={};return e.forEach(r=>{ve([r],t)&&(n=r)}),n};function Mt(e,t){const n=h.useMemo(()=>ge(e,t),[e,t]),r=h.useMemo(()=>Pt(e,t),[e,t]);return{activedRoute:n,includedRouteTree:r}}const{MenuGroup:re}=w,kt=e=>{const{navMode:t=J.navMode,collapsed:n,routeKey:r,navigationTree:o=[],userAuthority:s=[],onMenuItemClick:i,direction:l=J.direction}=e,{t:f}=le(),[y,v]=h.useState([]),{activedRoute:p}=Mt(o,r);h.useEffect(()=>{y.length===0&&(p!=null&&p.parentKey)&&v([p==null?void 0:p.parentKey])},[p==null?void 0:p.parentKey]);const E=()=>{i==null||i()},g=u=>{if(u.subMenu.length===0&&u.type===Te)return a.jsx(te,{nav:u,sideCollapsed:n,userAuthority:s,direction:l,onLinkClick:E},u.key);if(u.subMenu.length>0&&u.type===Ve)return a.jsx(ne,{nav:u,sideCollapsed:n,userAuthority:s,direction:l,onLinkClick:i},u.key);if(u.type===Ne){if(u.subMenu.length>0)return a.jsx(I,{userAuthority:s,authority:u.authority,children:a.jsx(re,{label:f(u.translateKey)||u.title,children:u.subMenu.map(C=>C.subMenu.length>0?a.jsx(ne,{nav:C,sideCollapsed:n,userAuthority:s,direction:l,onLinkClick:i},C.key):a.jsx(te,{nav:C,sideCollapsed:n,userAuthority:s,direction:l,onLinkClick:i},C.key))})},u.key);u.title}};return a.jsx(w,{className:"px-4 pb-4",variant:t,sideCollapsed:n,defaultActiveKeys:p!=null&&p.key?[p.key]:[],defaultExpandedKeys:y,children:o.map(u=>g(u))})},Tt=kt;export{w as M,Tt as V,Mt as u};
